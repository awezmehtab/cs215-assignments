% Start writing your answer from here, if you want to use new packages/change something do it in main.tex
\begin{que}
	Suppose that you have computed the mean, median and standard deviation of a
	set of $n$ numbers stored in array $A$ where $n$ is very large. Now, you decide
	to add another number to $A$. Write a python function to update the
	previously computed mean, another python function to update the previously
	computed median, and yet another python function to update the previously
	computed standard deviation. Note that you are not allowed to simply
	recompute the mean, median or standard deviation by looping through all the
	data. You may need to derive formulae for this. Include the formulae and
	their derivation in your report. Note that your python functions should be
	of the following form:

	\begin{verbatim}
	function newMean = UpdateMean(OldMean, NewDataValue, n, A),
	function newMedian = UpdateMedian(OldMedian, NewDataValue, n, A),
	function newStd = UpdateStd(OldMean, OldStd, NewMean, NewDataValue, n, A).
	\end{verbatim}

	Also explain, how would you update the histogram of $A$, if you received
	a new value to be added to $A$? (Only explain, no need to write code.)
	Please specify clearly if you are making any assumptions.
	\hspace*{\fill}[10 marks]
\end{que}

\begin{tcolorbox}[breakable]
	\begin{sol}
		\textbf{Note: } To run the code for this, execute
		\texttt{python3 ./code/q6.py}.

		For computing new mean from previously computed mean and the
		new value, we just need to multiply the older mean with the
		size of the set and add the new value and divide the whole sum
		by n+1. The mean is given by
		\begin{equation}
			\texttt{NewMean}=\frac{\texttt{OldMean}*n+\texttt{newDataVal}}{n+1}
		\end{equation}

		For computing the new median, we need to append the new value
		to the array and then sort it. If the older n was even, we need
		to return the key at $\big(\frac{n+2}{2}\big)$. If older n was
		odd, we need to return the average of key at
		$\big(\frac{n+1}{2},\frac{n+2}{2}\big)$. This approach is used
		if the array is not sorted. If we make an assumption that the
		array is sorted, then we need to compare the new element with
		just the current median, one element just larger than the
		median and one element just smaller than the median and we can
		apply the same approach as before to compute the median. \par
		For computing the new standard deviation, first we get new
		variance using the contribution of old variance and mean and
		then add the effect of new data and mean to it. The formula is
		given by

		\begin{align}
			\texttt{newVar}=\frac{((n-1)*\texttt{oldVar}+(\texttt{NewDataVal}-\texttt{OldMean})*(\texttt{NewDataVal}-\texttt{NewMean}))}{n}
		\end{align}

		\par If we want to update the histogram of A,we can directly
		find the bin range in which the value lies in and increment the
		value of that particular bin by 1. The assumptions we are
		making include that we already have a histogram that tracks the
		count of each bin and the bin ranges/width are fixed.
	\end{sol}
\end{tcolorbox}
